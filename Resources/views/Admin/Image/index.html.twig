{% extends '@SymEdit/Admin/base.html.twig' %}

{% block title %}Images &raquo; List{% endblock %}

{% set columns = 6 %}

{% block actions %}
    <a class="btn btn-primary" href="{{ path('admin_image_create') }}">
        {{ icon('upload') }}
        {{ 'symedit.form.image.actions.new'|trans }}
    </a>
{% endblock %}

{% block content %}
    <div class="container-fluid">
        <div class="row" id="images">
            {% for image in images %}
                <div class="col-sm-{{ 12 / columns }} thumbnail-container">
                    <a class="thumbnail" href="{{ path('admin_image_update', {id:image.id}) }}">
                        <img src="{{ image | imagine_filter('gallery_thumbnail') }}">
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style type="text/css">
        div.thumbnail-container {
            width: {{ ((100-columns) / columns)|number_format(4) }}%;
            margin-bottom: 10px;
        }
    </style>
{% endblock %}

{% block scripts %}
    <script src="{{ asset('bundles/symedit/js/jquery.masonry.min.js') }}"></script>
    <script type="text/javascript">
        $(window).load(function () {
            $('#images').masonry({
                gutter: 10,
                resizeBound: true,
                itemSelector: '.thumbnail-container',
                columnWidth: '.thumbnail-container'
            });
        });
    </script>
{% endblock %}
